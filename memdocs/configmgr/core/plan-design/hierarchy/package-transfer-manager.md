---
title: 封裝傳輸管理員
titleSuffix: Configuration Manager
description: 了解 Configuration Manager 的套件傳輸管理員如何將內容從站台伺服器傳輸至遠端發佈點。
ms.date: 02/8/2017
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 3359f254-dd48-42b7-9eab-c92a3417e3fb
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: b450c45342793b89d41a2d96b8a7340939899093
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/21/2020
ms.locfileid: "81706506"
---
# <a name="package-transfer-manager-in-configuration-manager"></a>Configuration Manager 的套件傳輸管理員

適用於：  Configuration Manager (最新分支)

在 Configuration Manager 站台中，套件傳輸管理員是 SMS_Executive 服務的元件，管理將內容從站台伺服器電腦傳輸到站台中的遠端發佈點。 (遠端發佈點是非位於站台伺服器電腦上的發佈點)。套件傳輸管理員不支援由系統管理員進行設定，但了解其運作方式有助於規劃內容管理基礎結構。 它也可以協助您解決內容發佈的相關問題。


當您發佈內容至一或多個遠端發佈點時，站台**發佈管理員**會建立內容傳輸作業。 然後，它會通知主要和次要站台伺服器上的套件傳輸管理員，將內容傳輸到遠端發佈點。

 套件傳輸管理員會將它的動作記錄在網站伺服器上的 **pkgxfermgr.log** 檔案中。 這個記錄檔是您可以檢視套件傳輸管理員活動的唯一位置。  

> [!NOTE]  
>  在舊版的 Configuration Manager 中，發佈管理員負責管理將內容傳送到遠端發佈點的作業。 發佈管理員也會管理網站間的內容傳送。 有了 Configuration Manager 之後，發佈管理員就可繼續管理兩個站台之間的內容傳輸。 但套件傳輸管理員現已可管理將內容傳輸到大量的發佈點。 如此可提升站台間以及站台內發佈點的內容部署整體效能。  

將內容傳送到標準發佈點時，套件傳輸管理員的運作方式與發佈管理員在舊版 Configuration Manager 的運作方式相同。 意思就是，它會主動管理將檔案傳送到每個遠端發佈點的作業。 不過，在發佈內容到提取發佈點時，套件傳輸管理員會通知提取發佈點內容已可使用。 提取發佈點，然後接管傳輸程序。  

下列資訊說明套件傳輸管理員如何管理將內容傳輸到標準發佈點，以及傳輸到設定為提取發佈點之發佈點的程序：
1.  **系統管理員將內容部署到站台中的一個或多個發佈點。**  

    -   **標準發佈點：** 發佈管理員會建立該內容的內容傳輸作業。  

    -   **提取發佈點：** 發佈管理員會建立該內容的內容傳輸作業。  

2.  **發佈管理員執行初步檢查。**  

    -   **標準發佈點：** 發佈管理員會執行基本檢查，確認每個發佈點都已準備就緒，可以開始接收內容。 完成這項檢查後，發佈管理員會通知套件傳輸管理員開始將內容傳送到發佈點。  

    -   **提取發佈點：** 發佈管理員會啟動套件傳輸管理員，再由後者通知提取發佈點有新的內容傳輸作業。 發佈管理員不會檢查做為提取發佈點的遠端發佈點的狀態，因為每個提取發佈點都會自行管理其內容傳輸。  

3.  **套件傳輸管理員準備傳送內容。**  

    -   **標準發佈點：** 套件傳輸管理員會檢查每個指定遠端發佈點的單一執行個體內容存放區。 此作業之目的是為了找出已在該發佈點上的任何檔案。 接著，套件傳輸管理員會建立只包含尚不存在的檔案的傳輸佇列。  

        > [!NOTE]  
        >  若要將發佈中的每個檔案都複製到發佈點，則即使檔案已出現於該發佈點的儲存單一版本中，請為內容使用**轉散布**動作。  

    -   **提取發佈點：** 針對發佈中的每個提取發佈點，套件傳輸管理員會檢查提取發佈點的來源發佈點，確認內容是否可用。  

        -   當內容在至少一個來源發佈點上可供使用時，套件傳輸管理員就會傳送通知給該提取發佈點。 通知會指示該發佈點開始進行傳輸內容的程序。 通知內容包括檔案名稱和大小、屬性以及雜湊值。  

        -   若內容尚無法使用，套件傳輸管理員不會傳送通知給發佈點。 它會每隔 20 分鐘重複檢查一次，直到內容可用為止。 接下來當內容可用時，套件傳輸管理員就會傳送通知給該提取發佈點。  

        > [!NOTE]  
        >  對於要複製發佈點中每個檔案到發佈點的提取發佈點來說，即使檔案已出現在提取發佈點的儲存單一版本中，仍會為內容使用**轉散布**動作。  

4.  **開始傳輸內容。**  

    -   **標準發佈點：** 套件傳輸管理員會將檔案複製到每個遠端發佈點。 在傳送到標準發佈點期間：  

        -   依預設，套件傳輸管理員可以同時處理三個不同的套件，並將它們平行發佈到五個發佈點。 整體而言，這些稱為**同時發佈設定**。 若要設定同時發佈設定，請在每個站台的 [軟體發佈元件內容]  中，前往 [一般]  索引標籤。  

        -   套件傳輸管理員會使用每個發佈點的排程和網路頻寬設定，將內容傳送到該發佈點。 若要設定這些設定，可在每個遠端發佈點的 [內容]  中，前往 [排程]  以及 [速率限制]  索引標籤。 如需詳細資訊，請參閱[管理 Configuration Manager 的內容與內容基礎結構](../../../core/servers/deploy/configure/manage-content-and-content-infrastructure.md)。  

    -   **提取發佈點：** 當提取發佈點收到通知檔案時，發佈點會開始執行傳送內容的程序。 傳送程序會在每個提取發佈點上獨立執行：  

        1.   提取發佈點會在內容發佈中識別其儲存單一版本中還沒有的檔案，並準備從其中一個來源發佈點下載該內容。  

        2.   接著，提取發佈點會依序檢查它的每個來源發佈點，直到找到有內容可用的來源發佈點。 當識別出具有內容的來源發佈點時，提取發佈點就會開始下載該內容。  

        > [!NOTE]  
        >  提取發佈點下載內容的程序，與 Configuration Manager 用戶端使用的程序相同。 對於由提取發佈點所傳輸的內容，不會使用並行傳輸設定。 也不會使用為標準發佈點所設定的排程與節流選項。  

5.  **內容傳輸已完成。**  

    -   **標準發佈點：** 套件傳輸管理員完成將檔案傳輸到每個指定的遠端發佈點之後，它會驗證發佈點上內容的雜湊。 然後它會通知發佈管理員發佈已完成。  

    -   **提取發佈點：** 提取發佈點完成內容下載之後，發佈點會驗證內容的雜湊。 然後它會將狀態訊息送出至站台管理點，表示成功。 如果在 60 分鐘之後，未收到此狀態，則會再次喚醒套件傳輸管理員。 它會檢查提取發佈點，確認提取發佈點是否已下載內容。 如果下載內容仍在進行中，套件傳輸管理員會再度進入睡眠狀態 60 分鐘，然後會再次檢查提取發佈點。 此週期會持續進行，直到提取發佈點完成內容傳輸為止。  
