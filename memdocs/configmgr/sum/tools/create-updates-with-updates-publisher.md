---
title: 建立更新
titleSuffix: Configuration Manager
description: 使用 System Center Updates Publisher 建立軟體更新並進行配套
ms.date: 04/29/2017
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.topic: conceptual
ms.assetid: 46a1a8ac-126c-4ee6-ae09-32dfbdb83368
author: mestew
ms.author: mstewart
manager: dougeby
ms.openlocfilehash: b2445158732f5adf21c43d73b13039f9e41610c8
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/21/2020
ms.locfileid: "81708696"
---
# <a name="create--software-updates-and-update-bundles-with-updates-publisher"></a>使用 Updates Publisher 建立軟體更新與更新配套

*適用於：System Center Updates Publisher*

利用 Updates Publisher，您可以使用 [建立更新]  精靈來自行建立更新，並使用 [建立配套]  精靈來建立更新配套。

因為這兩個精靈有類似的工作流程，建立更新配套的程序將會參照建立更新的程序，並僅詳細說明相關差異。

## <a name="use-the-create-update-wizard"></a>使用 [建立更新] 精靈
1. 在主控台中，移至 [更新工作區]  ，然後在 [開始使用]  窗格中，從功能區的 [常用]  索引標籤選擇 [更新]  。 這會開啟 [建立更新]  精靈。

2. 在 [套件]  頁面上，使用下列資訊來協助您設定更新：

   -   選擇 [瀏覽]  來找出要做為套件來源使用的軟體更新套件。 有效的來源包含 .MSI、.MSP 或 .EXE 檔案。 Updates Publisher 需要存取檔案以建立檔案雜湊。 雜湊和檔案名稱會用於您所要建立之更新的更新中繼資料。

   -   指定此更新的內容來源位置。 通常這是在發佈至 WSUS 伺服器期間，將下載更新二進位檔的來源位置。  如果選取了 [使用本機來源發行軟體更新內容]  選項，則不需要路徑。

       稍後，當更新發行到 WSUS 伺服器時，Updates Publisher 會從指定的來源位置下載更新的二進位檔。  如果沒有提供路徑，則 Update Publisher 會在[本機來源發行路徑](updates-publisher-options.md#advanced)中搜尋更新二進位檔。

   -   指定軟體更新的 [二進位語言]  。

   -   針對更新，指定 [成功傳回碼]  以及 [成功擱置重新開機碼]  。 請使用逗號分隔多個傳回碼。 您可以使用傳回碼判斷更新安裝是否已成功，以及是否需要重新開機。

       -   Windows Installer 檔案與修補程式 (.MSI 和 .MSP 檔案) 會自動設定這些值，且這些值將無法修改。

       -   針對 .EXE 更新，如果沒有指定傳回碼，則會使用 .EXE 檔案所定義的預設程式碼。

   -   指定安裝軟體更新所需的任何命令列引數。

       -   Windows Installer 檔案與修補程式 (.MSI 和 .MSP 檔案) 會自動設定這些值。 針對這些檔案類型，引數必須指定為 **\[name\]=\[value\]** 。 此外，.MSI 或 .MSP 軟體更新不支援開頭為 **/** (例如 **/qn**) 的所有選項。

       -   針對 .EXE 更新，所有引數都有效。

3. 在 [資訊]  頁面上，指定在發行或匯出更新時所包含之更新的相關詳細資料。 詳細資料包括當地語系化的屬性，例如更新名稱 (標題) 和描述。 然後，您將指定較基本的詳細資料，例如分類、廠商、產品，以及可深入了解更新的位置。

    __當地語系化內容：__

   - **語言**：指定語言，然後指定標題和描述。 您接著可以選取其他語言 (一次一個)，每個語言都能具有本身的標題和描述。

   - **標題**：輸入更新的名稱。 這個名稱會顯示在 Updates Publisher 主控台的 [更新工作區] 中。

   - **描述**：更新的易記描述。 您可以包含更新會安裝的內容，以及使用此更新的原因和時機。

   **分類**︰以下是各種分類的常見描述。

   - **更新**：針對目前已安裝的應用程式或檔案的更新。

   - **重大**：針對特定問題廣泛發行的更新，以解決與安全性無關的重大錯誤。

   - **Feature Pack**：於產品發行之外散發的新產品功能，通常會包含在下一個完整產品發行。

   - **安全性**：針對與安全性相關的產品特定問題廣泛發行的更新。

   - **更新彙總套件**：封裝在一起以便於部署的累計 Hotfix 集。 這些 Hotfix 可能包含安全性更新、重大更新、更新等。 更新彙總套件一般會處理特定的領域，例如安全性或產品功能。

   - **Service Pack**：會套用至應用程式的累計 Hotfix 集。 這些 Hotfix 可能包含安全性更新、重大更新、軟體更新等。

   - **工具**：指定有助於完成一或多個工作的工具或功能。

   - **驅動程式**：針對驅動程式軟體的更新。

   **廠商**：指定更新的廠商。 您可以使用下拉式清單來使用存放庫中更新的值。 當您指定廠商時，精靈會在 [更新工作區]  中的 [所有軟體更新]  底下，以該廠商的名稱建立一個資料夾 (如果該資料夾不存在的話)。 下列是無法針對您所建立之更新輸入的 Windows Server Update Services (WSUS) 保留名稱：
   - Microsoft Corporation
   - Microsoft
   - 更新
   - 軟體更新
   - 工具
   - 工具
   - 重大
   - 重大更新
   - 安全性
   - 安全性更新
   - Feature Pack
   - 更新彙總套件
   - Service Pack
   - 驅動程式
   - 驅動程式更新
   - 配套
   - 配套更新

   **產品**：指定更新所適用的產品類型。 您可以使用下拉式清單來使用存放庫中更新的值。 無法用於 [廠商]  的 WSUS 保留名稱清單，也無法用於 [產品]  。

   **詳細資訊 URL**：指定您可以找到此更新詳細資訊的 URL。 當您輸入此 URL 時，必須針對 **https** 或 **http** 使用小寫字母。

4. 在 [選擇性資訊]  頁面上，您可以設定能提供更新其他相關資訊的詳細資料。

   -   **公告識別碼**：公告識別碼通常 (但不一定) 由更新廠商提供。

   -   **發行項識別碼**：如果有軟體更新發行項可用，對於尋找更新之其他相關資訊的人而言，發行項識別碼很有用。

   -   **CVE 識別碼**：列出一或多個提供更新或更新配套相關安全性資訊的常見弱點與漏洞 (CVE) 識別碼。 列出多個識別碼時，請使用分號來分隔 CVE，如此範例所示：*CVE1;CVE2*。

   -   **支援 URL**：列出包含此更新支援資訊的 URL (如果有的話)。 當您輸入此 URL 時，必須針對 **https** 或 **http** 使用小寫字母。

   -   **嚴重性**︰設定此更新的嚴重性等級。

   -   **影響**︰下列選項可用來指定影響︰
       -   **一般 –** 使用此選項來指出更新需要一般安裝程序。
       -   **輕微 –** 使用此選項來指出更新需要最小安裝程序。
       -   **需要專屬處理 –** 使用此選項來指出更新的安裝必須獨立於所有其他更新。   <br /><br />

   -   **重新啟動行為**︰使用此選項來提供更新重新啟動行為的相關資訊。 此設定不會影響更新安裝的實際行為。

       -   **永遠不會重新開機**：安裝軟體更新之後，電腦一律不會執行系統重新啟動。
       -   **一律需要重新開機**：安裝軟體更新之後，電腦一律會執行系統重新啟動。
       -   **可以要求重新開機**：安裝軟體更新之後，電腦僅會在需要重新啟動時要求系統重新啟動。 使用者可以選擇延後重新啟動。 這是預設值。 <br /><br />

5. 在 [必要條件]  頁面上，指定在安裝此更新之前，必須先在電腦上安裝的必要條件。 必要條件可以是 **Detectoids** 或其他更新。 Detectoid 是高層級的規則，例如要求電腦 CPU 為 64 位元處理器的規則。 Detectoid 也可以指定在安裝此更新之前，必須先安裝的特定更新。

   -   為了達到最佳效能，請使用 Detectoid，而不要建立會執行相同檢查或動作的「可安裝」  和「安裝」  規則。

   請使用 [可用的軟體更新和 Detectoid]  搜尋選項來協助您尋找特定的更新或 Detectoid。 例如，搜尋 **CPU** 來尋找可讓您根據特定 CPU 架構對安裝進行限制的 Detectoid。

   您可以一次選取一或多個項目以新增為必要條件。 新增必要條件時，選取的 Detectoid 會新增為一或多個群組。 若要符合安裝資格，電腦必須符合您所設定的每個群組內至少一個成員的需求︰

   -   按一下 [新增必要條件]  時，您所選取的所有項目都會新增至分開的個別群組。 若要符合這項更新的資格，電腦必須符合此群組中的必要條件，並通過已設定之所有其他群組的需求。

   -   按一下 [新增群組]  時，您所選取的所有項目都會新增至單一群組。 若要符合這項更新的資格，電腦必須符合此群組中至少一項必要條件，並通過已設定之所有其他群組的需求。

6. 在 [取代]  頁面上，指定由此更新所取代的更新。 此更新發行後，Configuration Manager 會將已取代的每個更新標示為 [已過期]  。 用戶端將會改為安裝此更新，而非已取代的更新。

7. 在 [適用性]  頁面上，使用 [規則編輯器]  來定義一組能判斷裝置是否需要此更新的規則。 (此頁面類似於其後的 [已安裝]  頁面)。

   若要新增規則，請按一下 ![[新規則]](media/newrule.png)。 這會開啟您可以設定規則的 [適用性規則] 頁面。

   您可以建立的規則類型包括︰

   -   **檔案** – 使用此規則來要求裝置必須有屬性符合您所指定之一或多個準則的檔案，才能安裝此更新。

   -   **登錄 –** 使用此類型來指定在裝置能安裝此更新之前，必須存在的登錄詳細資料。

   -   **系統 –** 此規則會使用系統詳細資料來判斷適用性。 您可以選擇定義 Windows 版本、Windows 語言或處理器架構，或是指定 WMI 查詢來識別裝置的作業系統。

   -   **Windows Installer -** 使用此規則類型，根據已安裝的 .MSI 或 Windows Installer 修補程式 (.MSP) 來判斷適用性。 做為需求的一部分，您也可以判斷是否已安裝特定的元件或功能。

       > [!IMPORTANT]  
       > 在受控裝置上，Windows Update 代理程式無法偵測針對個別使用者安裝的 Windows Installer 套件。 當您使用此規則類型時，請設定其他的適用性規則 (例如檔案版本或登錄機碼值)，以正確地偵測到 Windows Installer 套件，無論它是否針對個別使用者或個別系統進行安裝。

   -   **已儲存規則 –** 此選項可讓您尋找及使用您「在規則工作區中建立的」  規則。

       建立規則之後，您可以使用其他圖示來修改規則，並在有多個規則的情況下，定義那些規則之間的關係。

   當您完成建立和新增規則之後，按一下 [建立規則集]  對話方塊中的 [確定]  來儲存該規則集。 您可以接著建立「新的」  規則，並將它加入該規則集。

   當您有多個規則或規則集要新增至更新時，可以使用 [規則編輯器]  中的邏輯運算子來判斷規則之間的狀態，以及它們的處理順序。

8. 在 [已安裝]  頁面上，使用 [規則編輯器]  定義一組可判斷裝置是否已安裝您正在設定之更新的規則。 (此頁面類似於位於其前面的 [適用性]  頁面)。

   此精靈頁面支援使用與 [適用性]  頁面相同的選項和準則來設定規則。

   當精靈完成時，新的更新會新增至 [更新工作區]  中的一個節點，它可由您針對該更新所使用的 [廠商]  和 [產品]  名稱來識別。

## <a name="use-the-create-bundle-wizard"></a>使用 [建立配套] 精靈
因為此精靈使用與 [[建立更新] 精靈](#use-the-create-update-wizard)相同的工作流程，請使用該流程，但注意到下列針對配套的差異：

1.  若要啟動精靈，請在主控台中移至 [更新工作區]  ，然後從功能區的 [常用]  索引標籤選取 [配套]  。

2.  不同於 [建立更新] 精靈，建立配套時沒有 [套件] 頁面。

3.  在 [資訊]  頁面上，指定在發行或匯出更新時所包含之更新配套的相關詳細資料。

4.  在 [選擇性資訊]  頁面上，您可以設定能提供更新配套其他相關資訊的詳細資料。 可用的選項與建立更新相同。 不過，[影響] 和 [重新啟動行為] 的選項將無法使用，因為它們不適用於配套。

5.  在 [必要條件]  頁面上，指定在安裝此配套之前，必須先在電腦上安裝的必要條件。 這些規則與個別更新的規則相同。

6.  在 [取代]  頁面上，指定由此更新配套所取代的更新。 這些規則與個別更新的規則相同。

7.  在 [成員]  頁面上，選取要新增至更新配套的更新。 僅可以使用您所建立或匯入到 Updates Publisher 的更新。

當精靈完成時，新的更新配套會新增至 [更新工作區]  中的一個節點，它是由您針對該更新配套所使用的 [廠商]  名稱來識別。
