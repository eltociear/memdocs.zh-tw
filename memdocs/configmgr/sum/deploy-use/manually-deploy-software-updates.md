---
title: 手動部署軟體更新
titleSuffix: Configuration Manager
description: 手動建立軟體部署，以利用必要的軟體更新取得用戶端的最新狀態，或部署頻外更新。
author: mestew
ms.author: mstewart
manager: dougeby
ms.date: 07/30/2018
ms.topic: conceptual
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.assetid: 57184274-5fea-4d79-a2b4-22e08ed26daf
ms.openlocfilehash: b7d6640beb9353d5c613cf38e3f880e7fd76b393
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/21/2020
ms.locfileid: "81699236"
---
# <a name="manually-deploy-software-updates"></a>手動部署軟體更新  

適用於：  Configuration Manager (最新分支)

在手動部署軟體更新的程序中，您將從 Configuration Manager 主控台選取軟體更新，然後手動啟動部署程序。 或者，將選取的軟體更新新增到某個更新群組，然後手動部署更新群組。 您通常會使用手動部署，以利用必要的軟體更新取得用戶端的最新狀態。 然後，使用自動部署規則 (ADR) 來管理進行中的每月軟體更新部署。 也請使用這個手動方法來部署頻外軟體更新。 如需哪種部署方法最適合您的詳細資訊，請參閱[部署軟體更新](deploy-software-updates.md)。



##  <a name="step-1-specify-search-criteria-for-software-updates"></a><a name="BKMK_1SearchCriteria"></a> 步驟 1：指定軟體更新的搜尋準則  

根據站台同步處理之產品和分類的組合而定，在 Configuration Manager 主控台內，可能會顯示數以千計的軟體更新。 手動部署軟體更新工作流程的第一個步驟是找出您要部署的軟體更新。 例如，顯示超過 50 個用戶端裝置上所需且分類為 [安全性]  或 [重大]  的所有軟體更新。  

> [!IMPORTANT]  
>  單一軟體更新部署的限制為 1000 個軟體更新。  

### <a name="process-to-specify-search-criteria-for-software-updates"></a>指定軟體更新之搜尋準則的程序  

1.  在 Configuration Manager 主控台中，移至 [軟體程式庫]  工作區，展開 [軟體更新]  ，然後按一下 [所有軟體更新]  。 此節點隨即顯示所有已同步處理的軟體更新。  

    > [!NOTE]  
    >  在 [所有軟體更新]  節點 上，只會顯示在過去 30 天內發行且分類為 [重大]  和 [安全性]  的軟體更新。  

2.  在搜尋窗格中，進行篩選以找出您需要的軟體更新。 使用下列其中一個或兩個選項：  

    -   在搜尋文字方塊中，鍵入可篩選軟體更新的搜尋字串。 例如，鍵入特定軟體更新的發行項或公告識別碼。 或者輸入數個軟體更新標題中顯示的字串。  

    -   按一下 [新增準則]  ，然後選取要篩選軟體更新的準則。 按一下 [新增]  ，然後提供準則的值。  

3.  按一下 [搜尋]  來篩選軟體更新：  

    > [!TIP]  
    >  請儲存常用的篩選準則。 在功能區中，按一下 [儲存目前搜尋]  的選項。 按一下 [已儲存的搜尋]  即可擷取先前的搜尋。   



##  <a name="step-2-create-a-software-update-group-that-contains-the-software-updates"></a><a name="BKMK_2UpdateGroup"></a> 步驟 2：建立含有軟體更新的軟體更新群組   

軟體更新群組可讓您組織軟體更新以準備進行部署。 利用下列程序，將軟體更新手動新增至新的軟體更新群組。  

### <a name="process-to-manually-add-software-updates-to-a-new-software-update-group"></a>手動將軟體更新新增至新軟體更新群組的程序  

1.  在 Configuration Manager 主控台中，移至 [軟體程式庫]  工作區，然後選取 [軟體更新]  。 選取所需的軟體更新。  

2.  按一下功能區中的 [建立軟體更新群組]  。  

3.  指定軟體更新群組的名稱，並選擇是否要提供描述。 使用能為您提供足夠資訊的名稱和描述，來判斷哪一種類型的更新應在軟體更新群組中。 按一下 [建立]  。  

4.  選取 [軟體更新群組]  節點，並選取新的軟體更新群組。 若要顯示群組中的更新清單，請按一下功能區中的 [顯示成員]  。  



##  <a name="step-3-download-the-content-for-the-software-update-group"></a><a name="BKMK_3DownloadContent"></a> 步驟 3：下載軟體更新群組的內容  

在部署軟體更新之前，請下載軟體更新群組之軟體更新的內容。 此步驟可讓您在部署軟體更新前，先行確認該內容是否可在發佈點上使用。 它還可協助您避免發生任何非預期的內容發佈問題。 如果您跳過此一步驟，則在部署程序期間，站台會下載內容並發佈到發佈點。 利用下列程序，下載軟體更新群組中的軟體更新內容。  


### <a name="process-to-download-content-for-the-software-update-group"></a>下載軟體更新群組內容的程序
[!INCLUDE [downloadupdates](../includes/downloadupdates.md)]

### <a name="process-to-monitor-content-status"></a>監視內容狀態的程序
1. 若要監視軟體更新的內容狀態，請移至 Configuration Manager 主控台中的 [監視]  工作區。 展開 [發佈狀態]  ，然後選取 [內容狀態]  節點。  

2. 選取您之前找到的軟體更新套件，將軟體更新下載至軟體更新群組。  

3. 按一下功能區中的 [檢視狀態]  。  



##  <a name="step-4-deploy-the-software-update-group"></a><a name="BKMK_4DeployUpdateGroup"></a> 步驟 4：部署軟體更新群組  

在您決定要部署的更新並將其新增至軟體更新群組之後，請手動部署軟體更新群組。  

### <a name="process-to-manually-deploy-the-software-updates-in-a-software-update-group"></a>手動部署軟體更新群組之軟體更新的程序  

1. 在 Configuration Manager 主控台中，移至 [軟體程式庫]  工作區，展開 [軟體更新]  ，然後選取 [軟體更新群組]  節點。  

2. 選取您要部署的軟體更新群組。 按一下功能區中的 [部署]  。   

3. 在 [部署軟體更新精靈] 的 [一般]  頁面上，指定下列設定：  

   -   **名稱**：指定部署的名稱。 部署必須擁有可描述其目的的唯一名稱，並區別其與站台中的其他部署。 此名稱欄位的限制為 256 個字元。 根據預設，Configuration Manager 會自動以下列格式提供部署名稱：`Microsoft Software Updates - YYYY-MM-DD <time>`  

   -   **描述**：指定部署的描述。 描述是選擇性項目，但可提供部署的概觀。 包含任何其他相關資訊，可協助識別和區別其與站台中的其他項目。 描述欄位的限制為 256 個字元，預設為空白值。  

   -   **軟體更新/軟體更新群組**：確認顯示的軟體更新群組或軟體更新正確。  

   -   **選取部署範本**：指定是否要套用先前儲存的部署範本。 設定部署範本來儲存常見的軟體更新部署內容。 然後在您未來部署軟體更新時套用範本。 這些範本可節省時間，並協助確保類似部署的一致性。  

   -   **集合**：指定部署的集合。 集合中的裝置會收到此部署中的軟體更新。  

4. 在 [部署設定] 　頁面上，指定下列設定：  

   -   **部署類型**：指定軟體更新部署的部署類型。  

       > [!IMPORTANT]  
       >  建立軟體更新部署之後，您就無法變更部署類型。  

        - 選取 [必要]  來建立強制軟體更新部署。 在您設定的安裝期限之前，會將軟體更新自動安裝在用戶端上。  

        - 選取 [可用]  來建立選擇性的軟體更新部署。 此部署可供使用者從軟體中心進行安裝。  

       > [!NOTE]  
       >  當您將軟體更新群組部署為 [必要]  時，用戶端會在背景中下載內容，並在設有 BITS 設定的情況下加以執行。  
       > 
       > 對於部署為 [可用]  的軟體更新群組，用戶端則會在前景中下載內容，並忽略 BITS 設定。  

   -   **使用網路喚醒來喚醒用戶端以進行必要部署**：指定是否於期限啟用網路喚醒。 網路喚醒將喚醒封包 (該封包於部署中需要一或多個軟體更新) 傳送到某部電腦上。 站台會喚醒任何在安裝期限處於睡眠模式的電腦，以便起始安裝。 在部署中處於睡眠狀態且不需要任何軟體更新的用戶端並不會啟動。 根據預設不會啟用此設定。 它僅適用於 [必要]  部署。 使用此選項之前，請先針對 [網路喚醒] 設定電腦和網路。 如需詳細資訊，請參閱[如何設定網路喚醒](../../core/clients/deploy/configure-wake-on-lan.md)。  

   -   **詳細等級**：針對用戶端回報給網站的狀況訊息，指定詳細資料等級。  

5. 在 [排程]  頁面上，指定下列設定：  

   -   **為評估排程**：指定 Configuration Manager 對可用時間及安裝期限進行評估的時間。 選擇使用國際標準時間 (UTC) 或執行 Configuration Manager 主控台之電腦的本機時間。  

       - 當您在此處選取 [用戶端本機時間]  ，然後針對 [軟體可用時間]  選取 [盡快]  時，就會使用執行 Configuration Manager 主控台之電腦上的目前時間，來評估更新可用的時間。 此行為與 [安裝期限]  和用戶端上安裝更新的時間相同。 如果用戶端位於不同時區，則會在用戶端的時間達到評估時間時，執行這些動作。  

   -   **軟體可用時間**：選取以下其中一種設定來指定用戶端何時可以使用軟體更新：  

       -   **盡快**：可讓用戶端在最短時間內使用部署中的軟體更新。 利用選取的設定建立部署時，Configuration Manager 會更新用戶端原則。 在下一個用戶端原則輪詢循環中，用戶端將會察覺該部署且軟體更新可供安裝。  

       -   **特定時間**：在特定的日期和時間將包含在部署中的軟體更新提供給用戶端。 建立部署時啟用此設定，Configuration Manager 會更新用戶端原則。 在下一個用戶端原則輪詢循環中，用戶端將會察覺該部署。 不過，在設定的日期和時間之前，無法使用部署中的軟體更新進行安裝。  

   -   **安裝期限**：這些選項僅適用於**必要**部署。 選取下列其中一個設定，以指定部署中軟體更新的安裝期限  

       -   **盡快**：選取此設定，以自動在最短時間內安裝部署中的軟體更新。  

       -   **特定時間**：選取此設定，以在特定日期和時間自動安裝部署中的軟體更新。  

           - 實際安裝期限時間是顯示的期限時間再加上最多 2 小時的隨機時間量。 此隨機設定可降低集合中用戶端同時安裝部署中更新可能造成的影響。   

           - 若要針對必要的軟體更新停用安裝隨機延遲，請設定 [電腦代理程式]  群組中 [停用期限隨機設定]  的用戶端設定。 如需詳細資訊，請參閱[電腦代理程式用戶端設定](../../core/clients/deploy/about-client-settings.md#computer-agent)。  

   -  **根據使用者喜好延遲實行此部署，最多延後至用戶端設定中定義的寬限期**：啟用此設定可提供使用者更多時間，讓他們在期限過後安裝必要軟體更新。  

       - 當電腦已長時間關閉，而需要安裝大量軟體更新或應用程式時，通常就需要允許此行為。 例如，當使用者從假期歸來時，他們必須等候很長的時間，讓用戶端安裝逾期的部署。  

       - 使用用戶端設定中的 [延後到部署期限後施行的寬限期 (小時)]  內容來設定此寬限期。 如需詳細資訊，請參閱[電腦代理程式](../../core/clients/deploy/about-client-settings.md#computer-agent)一節。 已啟用此選項且以您一併部署用戶端設定之裝置為目標的所有部署，都適用此施行寬限期。  

       - 期限之後，用戶端就會在使用者所設定的第一個非營業時間內安裝此軟體更新，直到該寬限期結束為止。 不過，使用者仍可隨時開啟軟體中心並安裝軟體更新。 過了寬限期後，就會強制還原為逾時部署的標準行為。  

6. 在 [使用者體驗]  頁面上，指定下列設定：  

   -   **使用者通知**：指定是否要在設定的**軟體可用時間**，於軟體中心內顯示通知。 此設定也會控制是否要在用戶端電腦上通知使用者。 針對 [可用]  部署，您無法選取 [在軟體中心和所有通知中隱藏]  選項。  

   -   **期限行為**：只有**必要**部署才能進行這個設定。 當軟體更新部署達到任何定義之維護期間以外的期限時，此設定會指定相關行為。 這些選項包括是否要安裝軟體更新，以及是否要在安裝後執行系統重新啟動。 如需維護期間的詳細資訊，請參閱[如何在 Configuration Manager 中使用維護期間](../../core/clients/manage/collections/use-maintenance-windows.md)。 
  
       > [!Note]
       > 只有在為用戶端裝置設定了維護時段時，才適用此選項。 如果未在裝置上定義任何維護時段，則一律會在期限後進行安裝更新和重新啟動。

   -   **裝置重新啟動行為**：只有**必要**部署才能進行這個設定。 指定當必須重新啟動才能完成更新安裝時，是否要抑制伺服器和工作站上的系統重新啟動。  

       > [!WARNING]  
       >  在伺服器環境中，或當您不想在預設情況下重新啟動目標電腦時，抑制系統重新啟動很有用。 不過，這麼做會讓電腦處於不安全的狀態。 允許強制重新啟動可協助您確保立即完成軟體更新安裝。  

   -   **Windows Embedded 裝置的寫入篩選處理**：這項設定會在具備寫入篩選功能的 Windows Embedded 裝置上控制安裝行為。 選擇在安裝期限或維護期間認可變更的選項。 當您選取此選項時，需要重新啟動裝置才能保存裝置的變更。 否則會將更新安裝、套用至暫存重疊，並於稍後認可。  

       -  當您將軟體更新部署至 Windows Enbedded 裝置時，請確定裝置是已設定維護期間之集合的成員。  

   - **重新啟動時的軟體更新部署重新評估行為**：選取此設定，就會將軟體更新部署設定成在用戶端安裝軟體更新並重新啟動之後，讓用戶端立即執行軟體更新相容性掃描。 此設定可讓用戶端檢查是否有在用戶端重新啟動後變成適用的額外更新，然後在同一個維護期間內安裝這些更新。  

7. 在 [警示]  頁面上，設定 Configuration Manager 如何針對此部署產生警示。 透過 [軟體程式庫]  工作區之 [軟體更新]  節點中的 Configuration Manager，檢閱最新的軟體更新警示。 如果您同時使用 System Center Operations Manager，也請設定其警示。 只能針對 [必要]  部署設定警示。  

8. 在 [下載設定]  頁面上，指定下列設定：  

    > [!NOTE]  
    >  用戶端會從部署內軟體更新的管理點來請求內容位置。 下載行為會根據您如何設定發佈點、部署套件和本頁設定而定。  

    - 指定當用戶端使用鄰近或預設站台界限群組中的發佈點時，是否應該下載並安裝更新。  

    - 指定當目前或鄰近界限群組中的發佈點沒有軟體更新內容可用時，用戶端是否應該從站台預設界限群組中的發佈點下載並安裝更新。  

    - **允許用戶端與同一個子網路上的其他用戶端共用內容**：指定是否要針對內容下載啟用使用 BranchCache。 如需詳細資訊，請參閱 [BranchCache](../../core/plan-design/hierarchy/fundamental-concepts-for-content-management.md#branchcache)。 從 1802 版開始，用戶端上一律會啟用 BranchCache。 此設定已移除，因為用戶端會使用 BranchCache (如果發佈點支援)。  

    - **如果在目前、鄰近或站台界限群組的發佈點上找不到軟體更新，則從 Microsoft Update 下載內容**：選取這項設定的話，如果在發佈點上找不到更新，就會讓連線到內部網路的用戶端從 Microsoft Update 下載軟體更新。 以網際網路為基礎的用戶端隨時可移至 Microsoft Update 取得軟體更新內容。

    - 指定當用戶端使用計量付費網際網路連線時，是否在過了安裝期限後仍允許用戶端進行下載。 在您處於計量付費連線時，網際網路提供者有時會根據您傳送和接收的資料量來收取費用。  

9. 在 [部署套件]  頁面上，選取下列其中一個選項：  

    > [!Note]  
    > 如果您已經執行[步驟 3：下載軟體更新群組的內容](#BKMK_3DownloadContent)，精靈就不會顯示 [部署套件]  、[發佈點]  及 [語言選擇]  頁面。 請跳至精靈的 [[摘要]](#bkmk_summary) 頁面。  
    > 
    >  先前已經下載到網站伺服器上內容庫的軟體更新，不能再次下載。 即使在您針對軟體更新建立新的部署套件時，也會出現此行為。 如果已下載所有的軟體更新，精靈就會跳到 [[摘要]](#bkmk_summary) 頁面。  

    - **選取部署套件**：將這些更新新增至現有的部署套件。  

    - **建立新的部署套件**：將這些更新新增至新的部署套件。 指定下列其他設定：  

        -  **名稱**：指定部署套件的名稱。 請使用一個描述套件內容的唯一名稱。 長度限制為 50 個字元。  

        -  **描述**：指定描述，提供有關部署套件的資訊。 選擇性描述限制為 127 個字元。  

        -  **套件來源**：指定軟體更新來源檔案的位置。 鍵入來源位置的網路路徑 (例如 `\\server\sharename\path`)，或按一下 [瀏覽]  尋找網路位置。 請先建立部署套件來源檔案的共用資料夾，再繼續執行下一個頁面。  

            - 您無法使用指定的位置作為另一個軟體部署套件的來源。  

            - 您可以在 Configuration Manager 建立部署套件之後，變更部署套件內容中的套件來源位置。 如果您這樣做，就需先將內容從原始套件來源複製到新的套件來源位置。  

            -  SMS 提供者電腦帳戶和執行精靈下載軟體更新的使用者，都必須具有下載位置的**寫入**權限。 限制存取下載位置。 這項限制可降低攻擊者竄改軟體更新來源檔案的風險。  

        -  **傳送優先順序**：指定部署封裝的傳送優先順序。 Configuration Manager 將套件傳送到發佈點時，會使用此優先順序。 部署套件會依優先順序傳送：高、中或低。 優先順序相同的套件，會依照建立的順序傳送。 若沒有待處理項目，則無論套件的優先順序為何，系統都會立即處理它。  

        - **啟用二進位差異複寫**：啟用此設定可將網站之間的網路流量降到最低。 二進位差異複寫 (BDR) 只會更新套件中已變更的內容，而不是更新整個套件內容。 如需詳細資訊，請參閱[二進位差異複寫](../../core/plan-design/hierarchy/fundamental-concepts-for-content-management.md#binary-differential-replication)。  

    - **無部署套件**：從 1806 版開始，不必先下載內容並將其發佈至發佈點，就可以將軟體更新部署至裝置。 處理極大量更新內容時，這項設定很有幫助。 一律要讓用戶端從 Microsoft Update 的雲端服務取得內容時，也請使用它。 此案例中的用戶端也可以從已具有必要內容的對等節點下載內容。 Configuration Manager 用戶端會繼續管理內容的下載，因此可以利用 Configuration Manager 的對等快取功能或其他技術，例如傳遞最佳化。 這項功能支援 Configuration Manager 軟體更新管理所支援的任何更新類型，包括 Windows 和 Office 更新。<!--1357933-->  

10. 在 [發佈點]  頁面上，指定將裝載軟體更新檔案的發佈點或發佈點群組。 如需發佈點的詳細資訊，請參閱[發佈點設定](../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_configs)。  

    > [!Note]  
    > 如果您已經執行[步驟 3：下載軟體更新群組的內容](#BKMK_3DownloadContent)，精靈就不會顯示 [部署套件]  、[發佈點]  及 [語言選擇]  頁面。 請跳至精靈的 [[摘要]](#bkmk_summary) 頁面。  

11. 在 [下載位置]  頁面上，指定要從網際網路或您的區域網路下載軟體更新檔案。 進行以下設定：  

    -   **從網際網路下載軟體更新**：選取此設定可從網際網路上的指定位置下載軟體更新。 預設會啟用此設定。  

    -   **從本機網路上的位置下載軟體更新**：選取此設定會從本機目錄或共用資料夾下載軟體更新。 此設定在執行精靈的電腦沒有網際網路存取時很實用。 任何具有網際網路存取的電腦都可以預先下載軟體更新。 然後，將它們儲存在本機網路上執行精靈的電腦可存取的位置。  

12. 在 [語言選擇]  頁面上，選取站台下載已選取之軟體更新所使用的語言。 只有在軟體更新有提供所選取的語言時，站台才會進行下載。 無指定語言的軟體更新一律會下載。 根據預設，精靈會選取您在軟體更新點內容中設定的語言。 您必須至少選取一種語言才能繼續至下一頁。 如果您只選取軟體更新不支援的語言，則更新下載會失敗。  

    > [!Note]  
    > 如果您已經執行[步驟 3：下載軟體更新群組的內容](#BKMK_3DownloadContent)，精靈就不會顯示 [部署套件]  、[發佈點]  及 [語言選擇]  頁面。 請跳至精靈的 [[摘要]](#bkmk_summary) 頁面。  

13. <a name="bkmk_summary"></a> 在 [摘要]  頁面上檢閱設定。 若要將設定儲存至部署範本，請按一下 [儲存成範本]  。 輸入名稱並選取要包含在範本中的設定，然後按一下 [儲存]  。 若要變更已經設定的設定，請按一下相關聯的精靈頁面，然後變更設定。  

    -  範本名稱可以包含英數字 ASCII 字元以及 `\` (反斜線) 或 `'` (單引號)。  

14. 按 [下一步]  部署軟體更新。  

    完成精靈之後，Configuration Manager 會將軟體更新下載到站台伺服器上的內容庫。 然後，它會將內容發佈至設定的發佈點，並將軟體更新群組部署到目標集合中的用戶端。 如需部署程序的詳細資訊，請參閱 [Software update deployment process](../understand/software-updates-introduction.md#BKMK_DeploymentProcess)。  



## <a name="next-steps"></a>後續步驟
[監視軟體更新](monitor-software-updates.md)
